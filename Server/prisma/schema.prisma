// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model College {
  id         Int     @id @default(autoincrement())
  Name      String   @unique
  CreatedAt DateTime @default(now())
  Users     User[]
}

model User {
  id          Int    @id @default(autoincrement())
  Name        String 
  Enrollment  String @unique
  Email       String @unique
  College     College? @relation(fields: [CollegeId], references: [id])
  CollegeId   Int?
  Password    String
  CreatedAt   DateTime @default(now())
  Applications Applications[]
}

model Company {
  id       Int   @id @default(autoincrement())
  Name     String
  CIN      String @unique
  Email    String @unique
  Password String
  Company  String @unique
  Jobs     Job[]
}

model Job {
  id          Int     @id @default(autoincrement())
  JobTitle    String
  JobType     String
  Department  String
  Location    String @db.VarChar(100)
  Salary      Int
  Description String @db.VarChar(500)
  Requirement String @db.VarChar(500)
  CompanyId   Int
  PostedBy    Company @relation(fields: [CompanyId], references: [id])
  CreatedAt   DateTime @default(now())
  Applications Applications[]
}

model Profile_users {
  id Int @id @default(autoincrement())
  First_Name String @db.VarChar(50)
  Last_Name String @db.VarChar(50)
  Email String @unique
  Phone String @unique
  City String @db.VarChar(50)
  Experience String @db.VarChar(100)
  Summary String @db.VarChar(500)
}

model Profile_companies {
  id Int @id @default(autoincrement())
  Company_Name String @db.VarChar(100)
  website String @db.VarChar(100)
  Location String @db.VarChar(100)
  Description String @db.VarChar(500)
  Size String @db.VarChar(50)
  Email String @unique
}

model Applications {
  id Int @id @default(autoincrement())
  userId Int
  jobId Int
  status    String   @default("pending")
  appliedAt DateTime @default(now())
  user User @relation(fields : [userId], references: [id])
  job Job @relation(fields : [jobId], references: [id])
}

model Profile_user {
  id Int @id @default(autoincrement())
  firstName String @db.VarChar(50)
  lastName String @db.VarChar(50)
  email String @unique
  phone String @unique
  city String @db.VarChar(50)
  experience String @db.VarChar(100)
  summary String @db.VarChar(500)
}

model Show_Company {
  id Int @id @default(autoincrement())
  companyName String @db.VarChar(100)
  website String @db.VarChar(100)
  location String @db.VarChar(100)
  description String @db.VarChar(500)
  size String @db.VarChar(50)
  email String @unique
}

model Show_Job {
  id Int @id @default(autoincrement())
  jobTitle String
  jobType String
  department String
  location String @db.VarChar(100)
  salary Int
  description String @db.VarChar(500)
  requirement String @db.VarChar(500)
}